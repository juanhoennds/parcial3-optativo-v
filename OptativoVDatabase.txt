-- Database: Optativo5

CREATE DATABASE "Optativo5"
    WITH
    OWNER = postgres
    ENCODING = 'UTF8'
    LC_COLLATE = 'en_US.UTF-8'
    LC_CTYPE = 'en_US.UTF-8'
    LOCALE_PROVIDER = 'libc'
    TABLESPACE = pg_default
    CONNECTION LIMIT = -1
    IS_TEMPLATE = False;

-- Table: public.Clientes

CREATE TABLE IF NOT EXISTS public."Clientes"
(
    "Id" integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    "Id_banco" text COLLATE pg_catalog."default" NOT NULL,
    "Nombre" text COLLATE pg_catalog."default" NOT NULL,
    "Apellido" text COLLATE pg_catalog."default" NOT NULL,
    "Documento" text COLLATE pg_catalog."default" NOT NULL,
    "Direccion" text COLLATE pg_catalog."default" NOT NULL,
    "Mail" text COLLATE pg_catalog."default" NOT NULL,
    "Celular" text COLLATE pg_catalog."default" NOT NULL,
    "Estado" text COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT "PK_Clientes" PRIMARY KEY ("Id")
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public."Clientes"
    OWNER to postgres;

-- Table: public.Facturas

CREATE TABLE IF NOT EXISTS public."Facturas"
(
    "Id" integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    "Id_cliente" integer NOT NULL,
    "Nro_factura" text COLLATE pg_catalog."default" NOT NULL,
    "Fecha_hora" timestamp with time zone NOT NULL,
    "Total" numeric NOT NULL,
    "Total_iva5" numeric NOT NULL,
    "Total_iva10" numeric NOT NULL,
    "Total_iva" numeric NOT NULL,
    "Total_letras" text COLLATE pg_catalog."default" NOT NULL,
    "Sucursal" text COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT "PK_Facturas" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Facturas_Clientes_Id_cliente" FOREIGN KEY ("Id_cliente")
        REFERENCES public."Clientes" ("Id") MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public."Facturas"
    OWNER to postgres;
-- Index: IX_Facturas_Id_cliente

-- DROP INDEX IF EXISTS public."IX_Facturas_Id_cliente";

CREATE INDEX IF NOT EXISTS "IX_Facturas_Id_cliente"
    ON public."Facturas" USING btree
    ("Id_cliente" ASC NULLS LAST)
    TABLESPACE pg_default;